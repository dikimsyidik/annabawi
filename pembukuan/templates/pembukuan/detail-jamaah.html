{% extends 'pembukuan/base.html' %}
{% block content %}
{% load mathfilters %}
{% load humanize %}
      <div class="main-panel">
        <div class="content-wrapper">
          <h3 class="text-center mb-4">Data Jemaah Haji</h3>
          <div class="row">
            <div class="col-md-8 grid-margin">
              <div class="card text-center">
                <div class="card-body">
                  <h5 class="text-center">Profil Jemaah</h5><div class="row">
                  <div class="col-lg-8">
                    <table class="table table-bordered" style="text-align: left; margin-top: 20px;">
                      <tr >
                        <th style="width: 30%;">Nama</th>
                        <th style="width: 0%%">:</th>
                        <td>{{ obj.nama_lengkap }}</td>
                      </tr>
                      <tr>
                        <th>ID Jemaah</th>
                        <th>:</th>
                        <td>{{ obj.id }}</td>
                      </tr>
                      <tr>
                        <th>No. KTP</th>
                        <th>:</th>
                        <td>{{ obj.no_ktp }}</td>
                      </tr>
                      <tr>
                        <th>Alamat</th>
                        <th>:</th>
                        <td>{{obj.alamat}}</td>
                      </tr>
                      <tr>
                        <th>No. Hp</th>
                        <th>:</th>
                        <td>{{obj.no_hp}}</td>
                      </tr>
                    </table>
                  </div>
                    <div class="col-lg-4">
                      <img src="{{ obj.foto.url }}" class="img-lg mt-5 img-thumbnail" alt="profile image" style="width: 150px; height: 170px"> 
                    </div>
                  </div>
                      
                </div>
              </div>
            </div>
            <div class="col-md-4 grid-margin stretch-card">
              <div class="card">
                <div class="card-body"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink"  style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
                  <h5 class="text-center mb-3">Riwayat Pembayaran</h5>
                  <table>
                    <tr style="font-size: 14px">
                      <td style="width: 30%">Jadwal</td>
                      <td style="width: 8%">:</td>
                      <td>{{obj.rombongan}}</td>
                    </tr>
                    <tr style="font-size: 14px">
                      <td>Harga</td>
                      <td>:</td>
                      <td>Rp. {{ obj.rombongan.harga}}</td>
                    </tr>
                  </table>
                  <div class="table-responsive mt-3">
                    <table class="table table-bordered">
                      <thead>
                        <tr>
                          <th style="width: 10%">No</th>
                          <th style="width: 40%;">Tanggal</th>
                          <th style="width: 50%;">Jumlah</th>
                        </tr>
                      </thead>
                      <tbody>
                      {% for riwayat in pembayaran %}
                        <tr>
                          <td>{{forloop.counter }}</td>
                          <td>{{ riwayat.waktu }}</td>
                          <td>Rp. {{riwayat.jumlah |intcomma}}</td>
                        </tr>
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                  <div style="margin-top: 20px" class="table-responsive">
                    <table>
                      <tr>
                        <th style="width: 55%">Total</th>
                        <th>Rp. {{ total|intcomma }}</th>
                      </tr>
                      <tr>
                        <th style="width: 55%">Sisa</th>
                        <th>Rp. {{obj.tunggakan |sub:total |intcomma }},-</th>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:../../partials/_footer.html -->
        <footer class="footer">
        
        </footer>
        <!-- partial -->
      </div>
{% endblock %}